<template name="memory">
<div class="mdl-grid memory-title">
  <h1>Memory Game</h1>
  <h4>Moves: {{counter}}</h4>
  <!-- If this game is won, shows the Play button, able to restart the game -->
  {{#if won}}
  <button id="new-game-button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
  Play
  </button>
  {{/if}}
</div>
<div class="mdl-grid">
  {{#each card in getArray}}
  <!-- Card container -->
  <!-- If the card is removed, the visibility is hidden -->
  <div class="demo-card-image mdl-card mdl-shadow--2dp" style="{{#if card.removed}}visibility: hidden;{{/if}}">
    <div class="mdl-card__title mdl-card--expand">
      <!-- Placeholder image for hidden card -->
      <img class="card-image card-image-{{@index}} placeholder-card" src="/images/memory/unknown.png" style="
      width: 100;" data-value="{{@index}}">
      <!-- Hidden image (revealed card) -->
      <img class="card-image card-image-{{@index}} real-card" src="/images/memory/{{card.image_index}}.jpg" style="
      width: 100%; display: none;
      " data-value="{{@index}}">
    </div>
  </div>
  {{/each}}
</div>
<!-- Game type selection dialog -->
{{> dialog dialog_id="game_type_dialog" title="Game type" close_button_id="game_type_close_button" ok_button_id="game_type_ok_button" ok_message="Incremental" close_message="Decremental"}}
<!-- Congratulation dialog -->
{{> dialog dialog_id="congratulation_dialog" close_button_id="congratulation_close_button" title="Congratulation!" hide_ok_button="true" close_message="Close"}}

{{> dialog dialog_id="final_dialog" close_button_id="final_close_button" title="Task completed" hide_ok_button="true" message="All tasks are completed. Thank you." close_message="Close"}}
</template>